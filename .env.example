# S3 Manager - Base Environment Configuration
# Copy this file to .env and customize for your environment

# ==========================================
# REQUIRED - Application Settings
# ==========================================

# Environment: local, test, production
APP_ENV=local

# Port to run the application (default: 3012)
PORT=3012

# Secret key for JWT token signing
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-change-this

# Database URL (PostgreSQL)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://s3manager:s3manager@localhost:5432/s3manager

# Redis URL (for Celery task queue)
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# CORS Origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3012,http://127.0.0.1:3012

# ==========================================
# OPTIONAL - Development Settings
# ==========================================

# Enable debug mode (true/false)
DEBUG=false

# Enable SQL query logging (true/false)
# When true, all SQL queries are printed to console (very verbose)
DEBUG_SQL=false

# ==========================================
# OPTIONAL - E2E Testing Only
# ==========================================
# The following settings are ONLY needed if you want to run the E2E test suite.
# MinIO is used by default (no real S3 credentials needed).
# Uncomment the "Real S3" section below to test against actual S3 instead.

# --- MinIO Configuration (default) ---
# MinIO port on host machine (change if 9000 is in use)
MINIO_PORT=9000

# Test storage configuration (auto-uses MinIO)
TEST_STORAGE_NAME=MinIO Test
TEST_STORAGE_ENDPOINT=localhost:${MINIO_PORT:-9000}
TEST_STORAGE_ACCESS_KEY=minioadmin
TEST_STORAGE_SECRET_KEY=minioadmin
TEST_STORAGE_REGION=us-east-1
TEST_STORAGE_USE_SSL=false
TEST_STORAGE_VERIFY_SSL=false

# --- PostgreSQL Admin Connection ---
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_USER=s3manager
# POSTGRES_PASSWORD=s3manager
# POSTGRES_ADMIN_USER=postgres
# POSTGRES_ADMIN_PASSWORD=postgres

# --- Test Admin User (for Setup Wizard) ---
# TEST_ADMIN_NAME=Test Admin
# TEST_ADMIN_EMAIL=admin@example.com
# TEST_ADMIN_PASSWORD=SecurePassword123!

# --- Test Team Member (for Permission Testing) ---
# TEST_TEAM_MEMBER_NAME=Team Member
# TEST_TEAM_MEMBER_EMAIL=team@example.com
# TEST_TEAM_MEMBER_PASSWORD=TeamPass123!

# --- Real S3 Storage for Testing (optional) ---
# Uncomment and fill these to test against real S3 instead of MinIO:
# TEST_STORAGE_NAME=Test Storage
# TEST_STORAGE_ENDPOINT=s3.amazonaws.com
# TEST_STORAGE_ACCESS_KEY=your-access-key
# TEST_STORAGE_SECRET_KEY=your-secret-key
# TEST_STORAGE_REGION=us-east-1
# TEST_STORAGE_USE_SSL=true
# TEST_STORAGE_VERIFY_SSL=true

# --- Test Configuration ---
# TEST_APP_HEADING=S3 Manager Test
# TEST_APP_LOGO_URL=
# TEST_PROTECTED_BUCKETS=production-data,important-bucket
# TEST_BUCKET_PREFIX=e2e-test
